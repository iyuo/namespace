{"version":3,"file":"namespace.js","sources":["../src/namespace.ts"],"sourcesContent":["import * as iyuo from \"@iyuo/context\";\r\n\r\nexport class Namespace {\r\n  public name: string;\r\n  constructor(name: string) {\r\n    this.name = name;\r\n    this.init(name);\r\n  }\r\n\r\n  public init(name: string) {\r\n  }\r\n}\r\n\r\nexport interface NameSpaceContext<T> extends iyuo.Context<T> {\r\n  namespace(name: string): NameSpaceContext<Namespace>;\r\n}\r\n\r\nexport function namespace(this: any, name: string): NameSpaceContext<Namespace> {\r\n  let ns = this,\r\n    p = name.split(/[\\[\\].\"']/gi).filter(x => !!x);\r\n  for (var i = 0; i < p.length; i++) {\r\n    ns[p[i]] = ns[p[i]] || new Namespace(p[i]);\r\n    ns = ns[p[i]];\r\n  }\r\n  return new iyuo.Context<Namespace>(ns) as NameSpaceContext<Namespace>;\r\n}\r\n\r\n(iyuo.Context.prototype as any).namespace = function(name: string): NameSpaceContext<Namespace> {\r\n  return namespace.call(this.context(), name);\r\n};"],"names":["iyuo.Context"],"mappings":";;;;;;;MAIE,mBAAY,IAAY;UACtB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;UACjB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;OACjB;MAEM,wBAAI,GAAX,UAAY,IAAY;OACvB;MACH,gBAAC;EAAD,CAAC,IAAA;WAMe,SAAS,CAAY,IAAY;MAC/C,IAAI,EAAE,GAAG,IAAI,EACX,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC;MACjD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;UACjC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC3C,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;OACf;MACD,OAAO,IAAIA,YAAY,CAAY,EAAE,CAAgC,CAAC;EACxE,CAAC;AAEAA,cAAY,CAAC,SAAiB,CAAC,SAAS,GAAG,UAAS,IAAY;MAC/D,OAAO,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,CAAC;EAC9C,CAAC,CAAC;;;;;;;;;;;;;"}